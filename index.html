<!DOCTYPE html>
<html>
	<head>
		<meta charset = "utf-8">
		<title>페이스북 문체 분석기</title>
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
   		<!-- <link rel="stylesheet" href="style.css" /> -->
  		
	</head>
	<body>
		테스트
		<div id="fb-root"></div>

		<script>

			$(document).ready( function() {
  				$.ajaxSetup({ cache: true });
  				$.getScript("//connect.facebook.net/ko_KR/all.js", function(){

  					console.log('getScript');
    				FB.init( {
      					appId : '574466449298482',
						status : true,
						cookie : true,
						xfbml : false
    				} );     

    				console.log('init');

    				FB.getLoginStatus( function(response) {
							if (response.status === 'connected') {
								testAPI();
							} else if (response.status === 'not_authorized') {
								FB.login( function(response) { 
									if(response.authResponse) {
										console.log("Authorized");
									} else {
										console.log("Authorization Cancelled");
									}
								}, {scope: 'name,read_stream,publish_stream'}
								);
							} else {
								FB.login( function(response) { 
									if(response.authResponse) {
										console.log("Logged in");
									} else {
										console.log("Login Cancelled");
									}
								}, {scope: 'name,read_stream,publish_stream'}
								);
							}

							console.log(response.status);
						}  );

  				}  );
			});
			
			// Here we run a very simple test of the Graph API after login is successful. 
  			// This testAPI() function is only called in those cases. 
  			function testAPI() {
   				console.log('Welcome!  Fetching your information.... ');
    			FB.api('/me', function(response) {
      				console.log('Good to see you, ' + response.name + '.');
   				});
 			 }
			</script>
		<fb:login-button show-faces="true" width="200" max-rows="1"></fb:login-button>
	</body>
</html>